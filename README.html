<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Andrew Foote, Mark Kutzbach, Lars Vilhuber" />

<meta name="date" content="2020-09-20" />

<title>README and Guidance</title>

<script src="_aux/libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="_aux/libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="_aux/libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="_aux/libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="_aux/libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="_aux/libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="_aux/libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="_aux/libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="_aux/libs/navigation-1.1/tabsets.js"></script>
<link href="_aux/libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="_aux/libs/highlightjs-9.12.0/highlight.js"></script>
<link href="_aux/libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="_aux/libs/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">



<h1 class="title toc-ignore">README and Guidance</h1>
<h4 class="author">Andrew Foote, Mark Kutzbach, Lars Vilhuber</h4>
<h4 class="date">2020-09-20</h4>

</div>


<p>This README describes the data inputs and processing stream for our paper “<em>Recalculating … : How Uncertainty in Local Labor Market Definitions Affects Empirical Findings</em>”.</p>
<div id="data-availability-and-provenance-statements" class="section level2">
<h2>Data Availability and Provenance Statements</h2>
<div id="commuting-zone-data" class="section level3">
<h3>Commuting Zone Data</h3>
<ul>
<li>Source: <span class="citation">Economic Research Service (2012)</span> (<a href="https://www.ers.usda.gov/data-products/commuting-zones-and-labor-market-areas/" class="uri">https://www.ers.usda.gov/data-products/commuting-zones-and-labor-market-areas/</a>)</li>
<li>Source URL: <a href="https://www.ers.usda.gov/webdocs/DataFiles/48457/czlma903.xls?v=6997.1" class="uri">https://www.ers.usda.gov/webdocs/DataFiles/48457/czlma903.xls?v=6997.1</a></li>
<li><strong>Provided</strong> as part of this replication package.</li>
<li><a href="#dataset-list">Datafile</a>: <code>czlma903.xls</code></li>
</ul>
<p>CZ data were produced by an agency of the US Government and are in the public domain.</p>
</div>
<div id="journey-to-work-jtw-data" class="section level3">
<h3>Journey-to-Work (JTW) data</h3>
<p>Most of the JTW data can be found at <a href="https://www.census.gov/topics/employment/commuting/guidance/flows.html" class="uri">https://www.census.gov/topics/employment/commuting/guidance/flows.html</a>. The data were produced by an agency of the US Government and are in the public domain.</p>
<p>Because the US Census Bureau does not provide robust (permanent) URLs, we archived the data on openICPSR/DataLumos, or searched for permanent locations elsewhere on ICPSR. As of 2020-09-01, the source URLs were still functional, though. Our scripts pull the data from the source URL.</p>
<div id="jtw" class="section level4">
<h4>1990 JTW</h4>
<ul>
<li>Source: <span class="citation">U.S. Census Bureau (2017a)</span></li>
<li>Source URL: <a href="https://www2.census.gov/programs-surveys/commuting/datasets/1990/worker-flow/usresco.txt" class="uri">https://www2.census.gov/programs-surveys/commuting/datasets/1990/worker-flow/usresco.txt</a></li>
<li>Permanent Source URL: <a href="http://doi.org/10.3886/E100617V1" class="uri">http://doi.org/10.3886/E100617V1</a></li>
<li>Not provided as part of this replication package</li>
<li>Renamed to: <code>1990jtw_raw.txt</code></li>
</ul>
</div>
<div id="jtw-1" class="section level4">
<h4>2000 JTW</h4>
<ul>
<li>Source: <span class="citation">U.S. Census Bureau (2003)</span></li>
<li>Source URL: <a href="https://www.census.gov/population/www/cen2000/commuting/files/2KRESCO_US.txt" class="uri">https://www.census.gov/population/www/cen2000/commuting/files/2KRESCO_US.txt</a></li>
<li>Permanent Source URL: <a href="http://doi.org/10.3886/ICPSR13405.v1" class="uri">http://doi.org/10.3886/ICPSR13405.v1</a></li>
<li>Not provided as part of this replication package</li>
<li>Renamed to : <code>jtw2000_raw.txt</code></li>
</ul>
</div>
<div id="acs-flows" class="section level4">
<h4>2009-2013 ACS flows</h4>
<ul>
<li>Source: <span class="citation">U.S. Census Bureau (2017b)</span></li>
<li>Source URL: <a href="https://www2.census.gov/programs-surveys/commuting/tables/time-series/commuting-flows/table1.xlsx" class="uri">https://www2.census.gov/programs-surveys/commuting/tables/time-series/commuting-flows/table1.xlsx</a></li>
<li>Permanent Source URL: <a href="http://doi.org/10.3886/E100616V1" class="uri">http://doi.org/10.3886/E100616V1</a></li>
<li>Renamed to: <code>jtw2009_2013.csv</code></li>
<li>Not provided as part of this replication package</li>
</ul>
</div>
</div>
<div id="files-for-case-study-1" class="section level3">
<h3>Files for Case Study 1</h3>
<div id="bea-data" class="section level4">
<h4>BEA data</h4>
<p>Data on National Income and Product Accounts (NIPA). Used in replications.</p>
<ul>
<li>Source: <span class="citation">Bureau of Economic Analysis (2019)</span></li>
<li>Source URL: <a href="https://apps.bea.gov/regional/zip/CAINC30.zip" class="uri">https://apps.bea.gov/regional/zip/CAINC30.zip</a>.
<ul>
<li>Note: Data can be downloaded from <a href="https://apps.bea.gov/regional/downloadzip.cfm" class="uri">https://apps.bea.gov/regional/downloadzip.cfm</a>, under “Personal Income (State and Local)”, select CAINC30: Economic Profile by County, then download. A direct download is also possible, see next line. The file is regularly updated.</li>
</ul></li>
<li>The datafile is <strong>provided</strong> as part of this package.</li>
<li><a href="#dataset-list">Datafile</a>: <code>CAINC30__ALL_AREAS_1969_2018.csv</code></li>
</ul>
<p>The data were produced by an agency of the US Government and are in the public domain.</p>
</div>
</div>
<div id="bls-data-quarterly-census-of-employment-and-wages" class="section level3">
<h3>BLS Data (Quarterly Census of Employment and Wages)</h3>
<p>Data from Quarterly Census of Employment and Wages (QCEW) program</p>
<ul>
<li>Source: <span class="citation">Bureau of Labor Statistics (2020b)</span></li>
<li>Source URL: <a href="https://www.bls.gov/cew/downloadable-data-files.htm" class="uri">https://www.bls.gov/cew/downloadable-data-files.htm</a></li>
<li>Note: Data are downloaded using programs provided in <span class="citation">Vilhuber and Bjelland (2020)</span> (not part of this archive), see <a href="https://github.com/labordynamicsinstitute/readin_qcew_sas/releases/tag/v20200622">https://github.com/labordynamicsinstitute/readin_qcew_sas/releases/tag/v20200622</a> (also <a href="https://doi.org/10.5281/zenodo.3903458">https://doi.org/10.5281/zenodo.3903458</a>).</li>
<li>The full data are not provided as part of this package.
<ul>
<li>Note: For convenience, the extract used is <strong>provided</strong> in <code>$interwrk</code> (<code>bls_us_county.dta.gz</code>), but must be unzipped prior to use. If using, the QCEW-related programs in Case Study 1 should not be run.</li>
</ul></li>
</ul>
<p>The data were produced by an agency of the US Government and are in the public domain.</p>
</div>
<div id="adh-related-data-files" class="section level3">
<h3>ADH-related data files</h3>
<ul>
<li>Note: We thank David Dorn for generously providing us with some of his data files.</li>
</ul>
<div id="nhgis-data" class="section level4">
<h4>NHGIS data</h4>
<ul>
<li>Source: <span class="citation">Minnesota Population Center (2016)</span></li>
<li>Raw data are provided as part of this package, as per NHGIS permission to post extracts for the purpose of replication packages.</li>
<li><a href="#dataset-list">Datafile</a>: <code>$raw/nhgis/*.dta</code></li>
</ul>
</div>
<div id="nihnci-seer-county-population-estimates" class="section level4">
<h4>NIH/NCI SEER county population estimates</h4>
<ul>
<li>Source: <span class="citation">National Cancer Institute (2020)</span></li>
<li>Source URL: <a href="https://seer.cancer.gov/popdata/yr1990_2018.singleages/us.1990_2018.singleages.adjusted.txt.gz" class="uri">https://seer.cancer.gov/popdata/yr1990_2018.singleages/us.1990_2018.singleages.adjusted.txt.gz</a></li>
<li>Raw data is not provided as part of this package, but a derived file (<code>popcounts.dta</code>) is provided.</li>
<li><a href="#dataset-list">Datafile</a>: <code>popcounts.dta</code></li>
</ul>
<p>The data were produced by an agency of the US Government and are in the public domain.</p>
</div>
<div id="counties-to-1990-commuting-zones" class="section level4">
<h4>1990 Counties to 1990 Commuting Zones</h4>
<ul>
<li>Source: <span class="citation">Dorn (n.d.)</span></li>
<li>Source URL: <a href="https://www.ddorn.net/data/cw_cty_czone.zip" class="uri">https://www.ddorn.net/data/cw_cty_czone.zip</a>
<ul>
<li>Note: Dorn references <span class="citation">Autor and Dorn (2013b)</span> for this file, which in turn has replication package <span class="citation">Autor and Dorn (2013a)</span>. The replication package contains a file <code>cw_puma1990_czone.dta</code> which would seem to provide the same information. However, we downloaded directly from David Dorn’s website <span class="citation">Dorn (n.d.)</span> , file [E7]</li>
</ul></li>
<li>The datafile is not provided as part of this package.</li>
<li>Datafile: <code>cw_cty_czone.zip</code></li>
</ul>
<p>Before using this data, ask David Dorn for permission. Posted here with permission.</p>
</div>
<div id="county-level-industry-data" class="section level4">
<h4>County-level industry data</h4>
<ul>
<li>Source: <span class="citation">Dorn (2017)</span></li>
<li>Source URL: Email from David Dorn. See <a href="ddorn/README.md">ddorn/README.md</a>.</li>
<li>The datafiles are provided as part of this package.</li>
<li><a href="#dataset-list">Datafiles</a>: <code>$raw/ddorn/cty_industryYYYY.dta</code></li>
</ul>
<p>Before using this data, ask David Dorn for permission. Posted here with permission.</p>
</div>
<div id="china-syndrome-data" class="section level4">
<h4>China Syndrome Data</h4>
<ul>
<li>Source: <span class="citation">Autor, Dorn, and Hanson (2013b)</span> and its replication package <span class="citation">Autor, Dorn, and Hanson (2013a)</span></li>
<li>Source URL: <a href="https://www.ddorn.net/data/Autor-Dorn-Hanson-ChinaSyndrome-FileArchive.zip" class="uri">https://www.ddorn.net/data/Autor-Dorn-Hanson-ChinaSyndrome-FileArchive.zip</a>
<ul>
<li>Note: the files are also archived at <span class="citation">Autor, Dorn, and Hanson (2013a)</span>.</li>
</ul></li>
<li>The datafiles are NOT provided as part of this package.</li>
<li>Datafiles: <code>$raw/adh_data/Public Release Data/dta/sic87dd_trade_data.dta</code> and <code>$raw/adh_data/Public Release Data/dta/workfile_china.dta</code></li>
</ul>
</div>
</div>
<div id="bls-data" class="section level3">
<h3>BLS data</h3>
<p>Data on local unemployment rates. Used in replications.</p>
<ul>
<li>Source: <span class="citation">Bureau of Labor Statistics (2020a)</span></li>
<li>Source URL: <a href="https://download.bls.gov/pub/time.series/la/la.data.0.CurrentU$arg" class="uri">https://download.bls.gov/pub/time.series/la/la.data.0.CurrentU$arg</a> <code>for arg in 90-94 95-99 00-04 05-09 10-14 15-19</code></li>
<li>Alternate Source URL: <a href="https://www.bls.gov/lau/laucnty15.txt" class="uri">https://www.bls.gov/lau/laucnty15.txt</a> (and other files, back to 1990, with similar year suffix)</li>
<li>Renamed to: urates_counties.csv</li>
<li>Not used?</li>
</ul>
</div>
<div id="dataset-list" class="section level3">
<h3>Dataset list</h3>
<p>The following files are provided in <code>$raw</code> directory:</p>
<table>
<thead>
<tr class="header">
<th align="left">filename</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ddorn/cty_industry1980.dta</td>
</tr>
<tr class="even">
<td align="left">ddorn/cty_industry1990.dta</td>
</tr>
<tr class="odd">
<td align="left">ddorn/cty_industry2000.dta</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0008_ds95_1970_county.dat</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0008_ds98_1970_county.dat</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0008_ds99_1970_county.dat</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0009_ds122_1990_county.dat</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0009_ds123_1990_county.dat</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0010_ds146_2000_county.dat</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0010_ds151_2000_county.dat</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0011_ds195_20095_2009_county.dat</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0011_ds196_20095_2009_county.dat</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0012_ds103_1980_county.dat</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0012_ds107_1980_county.dat</td>
</tr>
<tr class="odd">
<td align="left">CAINC30__ALL_AREAS_1969_2018.csv</td>
</tr>
<tr class="even">
<td align="left">czlma903.xls</td>
</tr>
<tr class="odd">
<td align="left">popcounts.dta</td>
</tr>
<tr class="even">
<td align="left">table1.xlsx</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="data-created-by-this-archive" class="section level2">
<h2>Data Created by this Archive</h2>
<div id="commuting-flows-augmented-by-moe" class="section level3">
<h3>Commuting flows augmented by MOE</h3>
<p>Filename: <strong><code>flows_jtw1990_moe.{csv,dta,sas7bdat}</code></strong></p>
<p>Variables:</p>
<ul>
<li><code>work_cty</code>: FIPS code of work county</li>
<li><code>jobsflow</code>: flows (count) between <code>work_cty</code> and <code>home_cty</code></li>
<li><code>home_cty</code>: FIPS code of home county</li>
<li><code>flowsize</code>: categorical flow sizes ( 1: 0-9, 2: 10-136, 3: 137-454, 4: 455-6714, 5: 6715-max)</li>
<li><code>sd_ratio</code>:</li>
<li><code>mean_ratio</code>:</li>
<li><code>draw</code>:</li>
<li><code>moe</code>: Margin of error for flows as computed (see text)</li>
</ul>
<p>Sample observations:</p>
<table>
<thead>
<tr class="header">
<th align="left">work_cty</th>
<th align="right">jobsflow</th>
<th align="left">home_cty</th>
<th align="right">flowsize</th>
<th align="right">sd_ratio</th>
<th align="right">mean_ratio</th>
<th align="right">draw</th>
<th align="right">moe</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">31137</td>
<td align="right">8</td>
<td align="left">40097</td>
<td align="right">1</td>
<td align="right">0.48832</td>
<td align="right">1.62034</td>
<td align="right">2.12948</td>
<td align="right">17.03581</td>
</tr>
<tr class="even">
<td align="left">25021</td>
<td align="right">6</td>
<td align="left">25023</td>
<td align="right">1</td>
<td align="right">0.48832</td>
<td align="right">1.62034</td>
<td align="right">1.76572</td>
<td align="right">10.59431</td>
</tr>
<tr class="odd">
<td align="left">23021</td>
<td align="right">2</td>
<td align="left">23021</td>
<td align="right">1</td>
<td align="right">0.48832</td>
<td align="right">1.62034</td>
<td align="right">0.77939</td>
<td align="right">1.55878</td>
</tr>
<tr class="even">
<td align="left">26161</td>
<td align="right">9</td>
<td align="left">12095</td>
<td align="right">1</td>
<td align="right">0.48832</td>
<td align="right">1.62034</td>
<td align="right">1.26426</td>
<td align="right">11.37833</td>
</tr>
<tr class="odd">
<td align="left">23025</td>
<td align="right">2</td>
<td align="left">23021</td>
<td align="right">1</td>
<td align="right">0.48832</td>
<td align="right">1.62034</td>
<td align="right">2.04119</td>
<td align="right">4.08237</td>
</tr>
<tr class="even">
<td align="left">20091</td>
<td align="right">5</td>
<td align="left">26161</td>
<td align="right">1</td>
<td align="right">0.48832</td>
<td align="right">1.62034</td>
<td align="right">1.50346</td>
<td align="right">7.51730</td>
</tr>
</tbody>
</table>
</div>
<div id="clusters-for-1990-created-by-our-algorithm" class="section level3">
<h3>Clusters for 1990 created by our algorithm</h3>
<p>Filename: <strong><code>clusfin_jtw1990.{csv,dta,sas7bdat}</code></strong></p>
<p>Variables:</p>
<ul>
<li><code>_PARENT_</code> : Character cluster number (CL + NNNNN)</li>
<li><code>_NAME_</code>: Character county FIPS code (cty + NNNNN)</li>
<li><code>county</code>: county FIPS code (numeric part, NNNNN)</li>
<li><code>cluster</code>: numeric cluster number (numeric part, NNNNN)</li>
</ul>
<p>Sample observations:</p>
<table>
<thead>
<tr class="header">
<th align="left"><em>PARENT</em></th>
<th align="left"><em>NAME</em></th>
<th align="left">county</th>
<th align="right">cluster</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CL625</td>
<td align="left">cty39007</td>
<td align="left">39007</td>
<td align="right">625</td>
</tr>
<tr class="even">
<td align="left">CL625</td>
<td align="left">cty27143</td>
<td align="left">27143</td>
<td align="right">625</td>
</tr>
<tr class="odd">
<td align="left">CL625</td>
<td align="left">cty08017</td>
<td align="left">08017</td>
<td align="right">625</td>
</tr>
<tr class="even">
<td align="left">CL625</td>
<td align="left">cty08061</td>
<td align="left">08061</td>
<td align="right">625</td>
</tr>
<tr class="odd">
<td align="left">CL625</td>
<td align="left">cty08011</td>
<td align="left">08011</td>
<td align="right">625</td>
</tr>
<tr class="even">
<td align="left">CL625</td>
<td align="left">cty08099</td>
<td align="left">08099</td>
<td align="right">625</td>
</tr>
</tbody>
</table>
</div>
<div id="bootstrap-cluster-assignments" class="section level3">
<h3>Bootstrap cluster assignments</h3>
<p>This dataset contains the 1000 realizations of the commuting zones from our paper. It can be used to crosswalk county fips codes to commuting zone realizations. The naming convention for the commuting zones in our data is CL + (fips of largest county by residence labor force), but otherwise are arbitrary.</p>
<p>Filename: <strong><code>bootclusters_jtw1990_moe.{csv,sas7bdat}</code></strong> (for technical reasons, the <code>dta</code> file has a <code>_new</code> suffix)</p>
<p>Variables:</p>
<ul>
<li><code>fips</code> : county FIPS code (numeric part, NNNNN)</li>
<li><code>clustername</code>: character cluster number (CL + NNNNN)</li>
<li><code>clustername_Z</code>: character cluster number for <em>Z-th</em> draw (CL + NNNNN)</li>
</ul>
</div>
</div>
<div id="software-requirements" class="section level2">
<h2>Software Requirements</h2>
<ul>
<li>SAS 9.4 (TS1M0)
<ul>
<li>SAS/STAT 12.3 (maintenance)</li>
</ul></li>
<li>Stata 14.2/16.1</li>
<li>R 4.0.2 (used only to automate cleaning of one data file)
<ul>
<li>readxl, tidyr, dplyr, readr for processing</li>
<li>rprojroot, config for configuration</li>
<li>all dependencies are installed upon first run</li>
</ul></li>
<li>Bash, Curl, wget as part of download (may require Linux, but can be replaced by manual downloading)</li>
</ul>
</div>
<div id="memory-and-runtime-requirements" class="section level2">
<h2>Memory and Runtime Requirements</h2>
<p>These programs were last run as follows:</p>
<ul>
<li>OS: Linux CentOS release 6.3 (Final)</li>
<li>8-core (though probably only 1 core was in use)</li>
<li>147 GB RAM (unlikely to have been fully utilized)</li>
<li>about 1.5GB disk space required</li>
</ul>
</div>
<div id="description-of-programs" class="section level2">
<h2>Description of programs</h2>
<div id="setting-up-data" class="section level3">
<h3>Setting up data</h3>
<p>To create the commuting zone analysis, data download programs (and in some cases, cleaning programs) are in the <code>raw</code> folder. They are not downloaded by the SAS and Stata programs in the <code>$programs</code> folder. Download is accomplished using Linux tools, but can also be done by hand, using the URLs mentioned above or in the scripts.</p>
<table>
<thead>
<tr class="header">
<th align="left">filename</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">01_get_data.sh</td>
</tr>
<tr class="even">
<td align="left">02_convert.R</td>
</tr>
<tr class="odd">
<td align="left">03_get_adh.sh</td>
</tr>
<tr class="even">
<td align="left">nhgis/main.sh</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0008_ds95_1970_county.do</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0008_ds98_1970_county.do</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0008_ds99_1970_county.do</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0009_ds122_1990_county.do</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0009_ds123_1990_county.do</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0010_ds146_2000_county.do</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0010_ds151_2000_county.do</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0011_ds195_20095_2009_county.do</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0011_ds196_20095_2009_county.do</td>
</tr>
<tr class="even">
<td align="left">nhgis/nhgis0012_ds103_1980_county.do</td>
</tr>
<tr class="odd">
<td align="left">nhgis/nhgis0012_ds107_1980_county.do</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul>
<li>QCEW: Data are downloaded using programs provided in <span class="citation">Vilhuber and Bjelland (2020)</span> (not part of this archive), see <a href="https://github.com/labordynamicsinstitute/readin_qcew_sas/releases/tag/v20200622">https://github.com/labordynamicsinstitute/readin_qcew_sas/releases/tag/v20200622</a> (also <a href="https://doi.org/10.5281/zenodo.3903458">https://doi.org/10.5281/zenodo.3903458</a>).</li>
<li>NHGIS: See <a href="raw/nhgis/README.nhgis.txt">raw/nhgis/README.nhgis.txt</a> for details</li>
<li>ADH data: Files are downloaded and unpacked using <a href="raw/03_get_adh.sh"><code>raw/03_get_adh.sh</code></a>. If processing manually, see URL above, and unzip into directory called <code>adh_data</code>. The resulting data structure should look like this:</li>
</ul>
<pre><code>$raw/adh_data/Public Release Data/dta</code></pre>
</div>
<div id="main-program-files" class="section level3">
<h3>Main program files</h3>
<p>The main program files are split into three groups: the creation and analysis of the commuting zones, for which all programs are in the main <code>$programs</code> directory, and case studies 1 (QCEW) and 2 (ADH). The programs for each of the case studies are in subdirectories <code>06_qcew</code> and <code>07_adh</code>, respectively.</p>
<p>In all cases, programs should be executed in the numeric sequence implied by the name of the program. If programs have the same numeric prefix, they can be executed in any order, or in parallel.</p>
</div>
<div id="setting-up-programs" class="section level3">
<h3>Setting up programs</h3>
<ul>
<li>modify <code>config.sas</code>:
<ul>
<li>change the line with <code>root =</code> to correspond to your project directory</li>
</ul></li>
<li>modify <code>config.do</code>:
<ul>
<li>change the line with <code>root =</code> to correspond to your project directory</li>
</ul></li>
</ul>
</div>
<div id="order-of-programs-to-run" class="section level3">
<h3>Order of programs to run</h3>
<p>To create the replicated commuting zones, run the following programs in numerical order:</p>
<table>
<thead>
<tr class="header">
<th align="left">filename</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">01_dataprep.sas</td>
</tr>
<tr class="even">
<td align="left">02_01_clusters.sas</td>
</tr>
<tr class="odd">
<td align="left">02_02_export_data.sas</td>
</tr>
<tr class="even">
<td align="left">03_prep_figures.sas</td>
</tr>
<tr class="odd">
<td align="left">04_figures2_3.do</td>
</tr>
<tr class="even">
<td align="left">05_01_flows.do</td>
</tr>
<tr class="odd">
<td align="left">05_02_bootstrap.sas</td>
</tr>
<tr class="even">
<td align="left">05_03_export_bootstraps.sas</td>
</tr>
<tr class="odd">
<td align="left">05_04_bootstrap_graphs_new.do</td>
</tr>
<tr class="even">
<td align="left">08_map_inset.sas</td>
</tr>
<tr class="odd">
<td align="left">09_maps_paper.sas</td>
</tr>
<tr class="even">
<td align="left">config.do</td>
</tr>
<tr class="odd">
<td align="left">config.sas</td>
</tr>
</tbody>
</table>
<div id="reading-in-various-datasets" class="section level4">
<h4>Reading in various datasets</h4>
<pre><code>sas 01_dataprep.sas</code></pre>
<p><em>(runtime: 2.81s)</em></p>
</div>
<div id="clustering-process" class="section level4">
<h4>Clustering process</h4>
<pre><code>sas 02_01_clusters.sas</code></pre>
<p><em>(runtime: 3:25.73 minutes)</em></p>
<p>OUTPUT: $data/clusfin_jtw1990.sas7bdat</p>
</div>
<div id="outputting-other-formats" class="section level4">
<h4>Outputting other formats</h4>
<pre><code>sas 02_02_export_data.sas</code></pre>
<p><em>(runtime: 1.35s)</em></p>
<p>OUTPUT: $data/clusfin_jtw1990.{csv,dta}</p>
</div>
<div id="cutoff-by-cluster-count-figure" class="section level4">
<h4>Cutoff by Cluster Count (Figure)</h4>
<pre><code>sas 03_prep_figures.sas</code></pre>
<p><em>(runtime: 8:39 minutes)</em></p>
<pre><code>stata -b do 04_figures2_3.do</code></pre>
<p><em>(runtime: seconds)</em></p>
</div>
<div id="run-the-bootstrap" class="section level4">
<h4>Run the Bootstrap</h4>
<p>Projects MOEs from 2009-2013 onto 1990 data, creates the 1000 realizations of commuting zones.</p>
<pre><code>stata -b do 05_01_flows.do
sas         05_02_bootstrap.sas</code></pre>
<p>The first program runs in seconds, the second one takes <em>(runtime: 56 hours)</em>.</p>
</div>
<div id="figure-4" class="section level4">
<h4>Figure 4</h4>
<pre><code>stata -b do 05_03_bootstrap_graphs_new.do </code></pre>
<p><em>(runtime: seconds)</em></p>
</div>
</div>
<div id="replication-programs-for-case-study-1-in-section-4.1" class="section level3">
<h3>Replication programs for Case Study 1 in Section 4.1</h3>
<p>All programs are in <code>$programs/06_qcew/</code> subdirectory. Change working directory, and execute in numerical order.</p>
<div id="data-preparation" class="section level4">
<h4>Data preparation</h4>
<p>Required data are commuting zones, BEA-collected receipt of UI benefits <span class="citation">(Bureau of Economic Analysis 2019)</span>, QCEW employment data <span class="citation">(Bureau of Labor Statistics 2020b)</span>.</p>
<p>Programs prefixed with <code>00</code> prepare the data:</p>
<table>
<thead>
<tr class="header">
<th align="left">filename</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">06_qcew/00_bea_readin.do</td>
</tr>
<tr class="even">
<td align="left">06_qcew/00_describe_bootclusters.do</td>
</tr>
<tr class="odd">
<td align="left">06_qcew/00_qcew_extraction.sas</td>
</tr>
<tr class="even">
<td align="left">06_qcew/00_qcew_post_extraction.do</td>
</tr>
<tr class="odd">
<td align="left">06_qcew/00_readin_czones.do</td>
</tr>
</tbody>
</table>
</div>
<div id="analysis-programs" class="section level4">
<h4>Analysis programs</h4>
<p>The remaining programs generate the analysis described in the manuscript, and output tables and figures as per <a href="#lot">the list below</a>. Programs with non-numeric prefixes are called by other programs, and should not be run separately. Scripts (<code>*.sh</code>) are for convenience, and are not necessary - simply execute all programs in numerical order.</p>
<table>
<thead>
<tr class="header">
<th align="left">filename</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">06_qcew/01_regressions_table.do</td>
</tr>
<tr class="even">
<td align="left">06_qcew/02_01_cluster_loop.do</td>
</tr>
<tr class="odd">
<td align="left">06_qcew/02_02_cluster_loop.do</td>
</tr>
<tr class="even">
<td align="left">06_qcew/03_01_cluster_graphs.do</td>
</tr>
<tr class="odd">
<td align="left">06_qcew/03_02_cutoff_graphs.do</td>
</tr>
<tr class="even">
<td align="left">06_qcew/zz_bartik_merge.do</td>
</tr>
</tbody>
</table>
<p>The complete sequence of programs ran in about 36 hours.</p>
</div>
</div>
<div id="replication-programs-for-case-study-2-in-section-4.2" class="section level3">
<h3>Replication programs for Case Study 2 in Section 4.2</h3>
<p>All programs in <code>$programs/adh/</code> subdirectory. Change working directory, and execute in numerical order.</p>
<div id="data-preparation-1" class="section level4">
<h4>Data preparation</h4>
<p>Required data are commuting zones, and various ADH-related data listed earlier.</p>
<p>Programs prefixed with <code>00</code> prepare the data:</p>
<table>
<thead>
<tr class="header">
<th align="left">filename</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">07_adh/00_01_census_creation.do</td>
</tr>
<tr class="even">
<td align="left">07_adh/00_02_ctyindustry_creation.do</td>
</tr>
<tr class="odd">
<td align="left">07_adh/00_03_IPW_creation.do</td>
</tr>
<tr class="even">
<td align="left">07_adh/00_04_cbp_readin.do</td>
</tr>
<tr class="odd">
<td align="left">07_adh/00_05_subset_qcewdata.do</td>
</tr>
<tr class="even">
<td align="left">07_adh/00_06_mergecounty.do</td>
</tr>
<tr class="odd">
<td align="left">07_adh/00_07_cz_merge.do</td>
</tr>
</tbody>
</table>
</div>
<div id="analysis-programs-1" class="section level4">
<h4>Analysis programs</h4>
<p>The remaining programs generate the analysis described in the manuscript, and output tables and figures as per <a href="#lot">the list below</a>. Programs with non-numeric prefixes are called by other programs, and should not be run separately. Scripts (<code>*.sh</code>) are for convenience, and are not necessary - simply execute all programs in numerical order.</p>
<table>
<thead>
<tr class="header">
<th align="left">filename</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">07_adh/01_table3.do</td>
</tr>
<tr class="even">
<td align="left">07_adh/02_01_cutoff_loop.do</td>
</tr>
<tr class="odd">
<td align="left">07_adh/02_02_overall_loop.do</td>
</tr>
<tr class="even">
<td align="left">07_adh/03_01_cutoff_graphs.do</td>
</tr>
<tr class="odd">
<td align="left">07_adh/03_02_overall_graphs.do</td>
</tr>
<tr class="even">
<td align="left">07_adh/zz_aggregatedata.do</td>
</tr>
<tr class="odd">
<td align="left">07_adh/zz_ctymerge.do</td>
</tr>
</tbody>
</table>
<p>The complete sequence of programs ran in about 36 hours.</p>
</div>
</div>
</div>
<div id="lot" class="section level2">
<h2>List of tables and programs</h2>
<table>
<thead>
<tr class="header">
<th align="left">Figure/Table #</th>
<th align="left">Title</th>
<th align="left">Program</th>
<th align="left">Output file</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Figure 1 – left</td>
<td align="left">Replication of Commuting Zones from TS: County Mapping</td>
<td align="left">09_maps_paper.sas</td>
<td align="left">commutingzones.png</td>
</tr>
<tr class="even">
<td align="left">Figure 1 – right</td>
<td align="left">Replication of Commuting Zones from TS: County Mapping</td>
<td align="left">02_clusters.sas</td>
<td align="left">1990_replicationmap.png</td>
</tr>
<tr class="odd">
<td align="left">Figure 2</td>
<td align="left">Effect of Cluster Height on Number of Clusters</td>
<td align="left">04_figures2_3.do</td>
<td align="left">numclus_cutoff.pdf</td>
</tr>
<tr class="even">
<td align="left">Figure 3</td>
<td align="left">Cluster Height and Share Workers Commuting Between Clusters</td>
<td align="left">04_figures2_3.do</td>
<td align="left">flows_cutoff.pdf</td>
</tr>
<tr class="odd">
<td align="left">Figure 4</td>
<td align="left">Results from Re-sampling Commuting Flows</td>
<td align="left">05_03_bootstrap_graphs_new.do</td>
<td align="left">numclusters_jtw1990.pdf meanclussize_jtw1990.pdf mismatch_jtw1990.pdf</td>
</tr>
<tr class="even">
<td align="left">Figure 5</td>
<td align="left">Differences in Effect Based on Cluster Cutoff</td>
<td align="left">06_qcew/03_02_cutoff_graphs.do</td>
<td align="left">cutoff_bartik.pdf</td>
</tr>
<tr class="odd">
<td align="left">Figure 6</td>
<td align="left">Distribution based on Realizations of CZs</td>
<td align="left">06_qcew/03_01_cluster_graphs.do</td>
<td align="left">beta_bartik_distribution.pdf tdistribution_bartik.pdf</td>
</tr>
<tr class="even">
<td align="left">Figure 7</td>
<td align="left">Differences in Effect Based on Cluster Cutoff</td>
<td align="left">07_adh/03_01_cutoff_graphs.do</td>
<td align="left">cutoff_1990.png cutoff_iqr_1990.png</td>
</tr>
<tr class="odd">
<td align="left">Figure 8</td>
<td align="left">Distribution of Effect, 1990-2000</td>
<td align="left">07_adh/03_02_overall_graphs.do</td>
<td align="left">1990_distribution.png 1990_tstat_distribution.png</td>
</tr>
<tr class="even">
<td align="left">Table 1</td>
<td align="left">Replication of TS1990 Commuting Zones: Summary Statistics</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Table 2</td>
<td align="left">Effect of Labor Demand on Unemployment Receipt</td>
<td align="left">06_qcew/01_regressions_table.do</td>
<td align="left">06_qcew/01_regressions_table.log</td>
</tr>
<tr class="even">
<td align="left">Table 3</td>
<td align="left">China Syndrome Replication and Comparison, 1990-2000</td>
<td align="left">07_adh/01_table3.do</td>
<td align="left">07_adh/01_table3.log</td>
</tr>
<tr class="odd">
<td align="left">Figure A1</td>
<td align="left">Clusters in California at Incremental Height Cutoffs</td>
<td align="left">08_map_inset.sas</td>
<td align="left">california_clustermap_800_inset6.png california_clustermap_880_inset6.png california_clustermap_1000_inset6.png california_clustermap_960_inset6.png</td>
</tr>
<tr class="even">
<td align="left">Figure A2</td>
<td align="left">Hierarchical Clustering, Cutoff = 0.945</td>
<td align="left">09_maps_paper.sas</td>
<td align="left">jtw1990_highcutoff</td>
</tr>
<tr class="odd">
<td align="left">Table A1 (4)</td>
<td align="left">Summary Statistics of Ratio of MOE to Flows</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Table A2 (5)</td>
<td align="left">Summary Statistics for empirical example</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
<div id="references" class="section level2 unnumbered">
<h2>References</h2>
<div id="refs" class="references">
<div id="ref-Autor_Replication_2013">
<p>Autor, David H., and David Dorn. 2013a. “Replication Data for: The Growth of Low-Skill Service Jobs and the Polarization of the US Labor Market.” American Economic Association [publisher]. <a href="https://doi.org/10.3886/E112652V1">https://doi.org/10.3886/E112652V1</a>.</p>
</div>
<div id="ref-Autor_Growth_2013">
<p>———. 2013b. “The Growth of Low-Skill Service Jobs and the Polarization of the US Labor Market.” <em>American Economic Review</em> 103 (5): 1553–97. <a href="https://doi.org/10.1257/aer.103.5.1553">https://doi.org/10.1257/aer.103.5.1553</a>.</p>
</div>
<div id="ref-Autor_ReplChina_2013">
<p>Autor, David H., David Dorn, and Gordon H. Hanson. 2013a. “Replication Data for: The China Syndrome: Local Labor Market Effects of Import Competition in the United States.” [Datafiles]. American Economic Association [publisher] ICPSR - Interuniversity Consortium for Political and Social Research [distributor]. <a href="https://www.openicpsr.org/openicpsr/project/112670/version/V1/view">https://www.openicpsr.org/openicpsr/project/112670/version/V1/view</a>.</p>
</div>
<div id="ref-Autor_china_2013">
<p>———. 2013b. “The China Syndrome: Local Labor Market Effects of Import Competition in the United States.” <em>American Economic Review</em> 103 (6): 2121–68. <a href="https://doi.org/10.1257/aer.103.6.2121">https://doi.org/10.1257/aer.103.6.2121</a>.</p>
</div>
<div id="ref-bea_table30_2019">
<p>Bureau of Economic Analysis. 2019. “Table 30: Economic Profile by County, 1969-2018.” [Datafile]. U.S. Department of Commerce [producer]. <a href="https://apps.bea.gov/regional/zip/CAINC30.zip">https://apps.bea.gov/regional/zip/CAINC30.zip</a>.</p>
</div>
<div id="ref-BLS_LAUS_2020">
<p>Bureau of Labor Statistics. 2020a. “Local Area Unemployment Statistics (LA).” [Datafile] 1990-2019. Department of Labor [distributor]. <a href="https://download.bls.gov/pub/time.series/la/">https://download.bls.gov/pub/time.series/la/</a>.</p>
</div>
<div id="ref-BLS_QCEW_2020">
<p>———. 2020b. “Quarterly Census of Employment and Wages – Data Files.” [Datafiles]. Department of Labor [distributor]. <a href="https://www.bls.gov/cew/downloadable-data-files.htm">https://www.bls.gov/cew/downloadable-data-files.htm</a>.</p>
</div>
<div id="ref-Dorn2017">
<p>Dorn, David. 2017. “County-Level Industry Data.” [Dataset]. (provided via email).</p>
</div>
<div id="ref-Dorn_Counties_nd">
<p>———. n.d. “1990 Counties to 1990 Commuting Zones.” [Datafile] [E7]. David Dorn’s Data Page. Accessed September 20, 2020. <a href="https://www.ddorn.net/data.htm">https://www.ddorn.net/data.htm</a>.</p>
</div>
<div id="ref-usda_cz_ers">
<p>Economic Research Service. 2012. “1980 and 1990 Commuting Zones and Labor Market Areas.” [Dataset]. United States Department of Agriculture. <a href="https://www.ers.usda.gov/webdocs/DataFiles/48457/czlma903.xls?v=7728.8">https://www.ers.usda.gov/webdocs/DataFiles/48457/czlma903.xls?v=7728.8</a>.</p>
</div>
<div id="ref-MinnesotaPopulationCenter2016a">
<p>Minnesota Population Center. 2016. “National Historical Geographic Information System.” Minneapolis, MN: University of Minnesota. <a href="https://doi.org/10.18128/D050.V11.0">https://doi.org/10.18128/D050.V11.0</a>.</p>
</div>
<div id="ref-SEER_popdata_2020">
<p>National Cancer Institute. 2020. “U.S. Population Data (County-Level)- SEER Population Data.” [Datafile] 1990-2018. National Institutes of Health [distributor]. <a href="https://seer.cancer.gov/popdata/download.html">https://seer.cancer.gov/popdata/download.html</a>.</p>
</div>
<div id="ref-u.s.censusbureau_census_2003">
<p>U.S. Census Bureau. 2003. “Census of Population and Housing, 2000 [United States]: County-to-County Worker Flow Files: Version 1.” [Datafile]. U.S. Department of Commerce [producer]. <a href="https://doi.org/10.3886/ICPSR13405.V1">https://doi.org/10.3886/ICPSR13405.V1</a>.</p>
</div>
<div id="ref-u.s.censusbureau_1990_2017">
<p>———. 2017a. “1990 County-to-County Worker Flow Files.” [Datafile]. U.S. Department of Commerce [producer]. <a href="https://doi.org/10.3886/E100617V1">https://doi.org/10.3886/E100617V1</a>.</p>
</div>
<div id="ref-u.s.censusbureau_20092013_2017">
<p>———. 2017b. “2009-2013 5-Year American Community Survey: Commuting Flows.” [Datafile]. U.S. Department of Commerce [producer]. <a href="https://doi.org/10.3886/E100616V1">https://doi.org/10.3886/E100616V1</a>.</p>
</div>
<div id="ref-Vilhuber2020">
<p>Vilhuber, Lars, and Melissa Bjelland. 2020. “Labordynamicsinstitute/Readin_qcew_sas: A Sequence of Programs to Readin in QCEW Data from the Bureau of Labor Statistics.” Labor Dynamics Institute, Cornell University. <a href="https://doi.org/10.5281/zenodo.3903458">https://doi.org/10.5281/zenodo.3903458</a>.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
